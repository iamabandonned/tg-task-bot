<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="theme-color" content="#2180ce" />
    <title>Task Manager</title>

    <!-- Telegram WebApp SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="css/design-system.css" />
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/components.css" />
    <link rel="stylesheet" href="css/pages.css" />
    <link rel="stylesheet" href="css/animations.css" />
  </head>
  <body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
      <div class="loading-spinner"></div>
      <p class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
    </div>

    <!-- Access Denied Screen (hidden by default) -->
    <div id="access-denied" class="access-denied hidden">
      <div class="access-denied__icon">üîí</div>
      <h1 class="access-denied__title">–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω</h1>
      <p class="access-denied__text"></p>
      <button class="btn btn--secondary" onclick="window.Telegram?.WebApp?.close()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <!-- Main App Container -->
    <div id="app" class="app hidden">
      <!-- Header -->
      <header class="header">
        <h1 class="header__title" id="page-title">Task Manager</h1>
        <div class="header__actions">
          <button class="header__btn" id="btn-notifications" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
            </svg>
          </button>
        </div>
      </header>

      <!-- Main Content Area -->
      <main class="main" id="main-content">
        <!-- Pages will be rendered here -->
      </main>

      <!-- Bottom Navigation -->
      <nav class="bottom-nav" id="bottom-nav">
        <button class="bottom-nav__item active" data-page="tasks">
          <svg
            class="bottom-nav__icon"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M12 20h9"></path>
            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path>
          </svg>
          <span class="bottom-nav__label">–ó–∞–¥–∞—á–∞</span>
        </button>
        <button class="bottom-nav__item" data-page="projects">
          <svg
            class="bottom-nav__icon"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"
            ></path>
          </svg>
          <span class="bottom-nav__label">–ü—Ä–æ–µ–∫—Ç—ã</span>
        </button>
        <button class="bottom-nav__item" data-page="employees">
          <svg
            class="bottom-nav__icon"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
          </svg>
          <span class="bottom-nav__label">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</span>
        </button>
        <button class="bottom-nav__item" data-page="analytics">
          <svg
            class="bottom-nav__icon"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <line x1="18" y1="20" x2="18" y2="10"></line>
            <line x1="12" y1="20" x2="12" y2="4"></line>
            <line x1="6" y1="20" x2="6" y2="14"></line>
          </svg>
          <span class="bottom-nav__label">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</span>
        </button>
        <button class="bottom-nav__item" data-page="tasks-list">
          <svg
            class="bottom-nav__icon"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <line x1="8" y1="6" x2="21" y2="6"></line>
            <line x1="8" y1="12" x2="21" y2="12"></line>
            <line x1="8" y1="18" x2="21" y2="18"></line>
            <line x1="3" y1="6" x2="3.01" y2="6"></line>
            <line x1="3" y1="12" x2="3.01" y2="12"></line>
            <line x1="3" y1="18" x2="3.01" y2="18"></line>
          </svg>
          <span class="bottom-nav__label">–ó–∞–¥–∞—á–∏</span>
        </button>
      </nav>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Modal Container -->
    <div id="modal-container" class="modal-container hidden"></div>

    <!-- Scripts -->
    <script src="js/utils/helpers.js"></script>
    <script src="js/utils/validators.js"></script>
    <script src="js/utils/tree-builder.js"></script>
    <script src="js/utils/mock-admins.js"></script>
    <script src="js/utils/mock-data.js"></script>
    <script src="js/state.js"></script>
    <script src="js/telegram.js"></script>
    <script src="js/api.js"></script>
    <script src="js/components.js"></script>
    <script src="js/pages/tasks.js"></script>
    <script src="js/pages/projects.js"></script>
    <script src="js/pages/employees.js"></script>
    <script src="js/pages/analytics.js"></script>
    <script src="js/pages/tasksList.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
